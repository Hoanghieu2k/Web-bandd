__d(function(g,r,i,a,m,e,d){"use strict";function t(t,o){return 0===t&&o.moreAvailable&&!o.isFetching}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const o=1030,l=r(d[1])(1498);var n=r(d[30]).withRouter(function({collectionId:n,history:s,userId:c}){const[u,E]=r(d[2]).useState(!1),[C,I]=r(d[2]).useState(!1),[p,S]=r(d[2]).useState(!1),[v,f]=r(d[2]).useState(!1),[B,P]=r(d[2]).useState(!1),[T,h]=r(d[2]).useState(!1),x=r(d[3]).useDispatch(),b=r(d[3]).useSelector(t=>r(d[4]).getUserById(t,c)),_=r(d[5]).buildUserPathLink(i(d[6])(b.username),'saved'),y=r(d[3]).useSelector(t=>t.displayProperties.viewportWidth),L=y<o,A=r(d[2]).useCallback(()=>r(d[7]).requestSavedCollectionPosts(n,c),[n,c]),D=r(d[3]).useSelector(t=>r(d[8]).getSavedCollectionByCollectionIdForUser(t,{collectionId:n,userId:c})),F=r(d[3]).useSelector(t=>r(d[8]).getVisiblePostsSavedByUserFromCollection(t,{collectionId:n,userId:c}));r(d[2]).useEffect(()=>{null==D&&x(r(d[7]).requestTabbedSavedCollection(n,c))},[D,n,c,x]),r(d[2]).useEffect(()=>{(null==D||t(F?F.length:0,D.pagination))&&x(A())},[D,x,F,A]);const O=null==D||''===D.id||0===F.length&&D.pagination.moreAvailable,k=r(d[11]).isDesktop(),w={source:i(d[10]).SavedCollectionPage},N=t=>{x(r(d[12]).addPostToCollection({collectionId:n,postIds:t,successHandler:()=>{P(!1),I(!1)},failureHandler:()=>{P(!1)},analyticsData:w}))};return a(d[13]).createElement(i(d[14]),{pageIdentifier:i(d[10]).SavedCollectionPage},a(d[13]).createElement(i(d[15]),{id:i(d[10]).SavedCollectionPage,title:null!=D?D.name:l}),a(d[13]).createElement("div",{className:"b4uBN"},u&&a(d[13]).createElement(i(d[16]),{onAddFromSaved:()=>{E(!1),I(!0)},onClose:()=>E(!1),onDeleteCollection:()=>{E(!1),S(!0)},onEditCollection:()=>{E(!1),f(!0)}}),p&&a(d[13]).createElement(i(d[17]),{body:r(d[1])(2149),confirmLabel:r(d[1])(1716),destructiveConfirm:!0,onClose:()=>{S(!1)},onConfirm:function(){h(!0),x(r(d[7]).deleteCollection({collectionId:n,successHandler:()=>{r(d[9]).redirect(_)},failureHandler:()=>{h(!1)},userId:c,source:i(d[10]).SavedCollectionPage}))},requestInFlight:T,title:r(d[1])(1992)}),O?a(d[13]).createElement(r(d[18]).Box,{marginTop:16},a(d[13]).createElement(r(d[18]).Spinner,{position:"absolute",size:"medium"})):a(d[13]).createElement(r(d[18]).Box,{marginTop:6},k&&a(d[13]).createElement(r(d[18]).Box,{alignItems:"start",flex:"grow",marginBottom:4},a(d[13]).createElement(r(d[18]).Button,{borderless:!0,onClick:()=>s.push(_)},a(d[13]).createElement(r(d[18]).Box,{alignItems:"center",direction:"row"},a(d[13]).createElement(i(d[19]),{alt:r(d[20]).BACK_TEXT,color:"ig-secondary-text",direction:"left",size:24}),a(d[13]).createElement(r(d[18]).Box,{padding:1},a(d[13]).createElement(r(d[18]).Text.BodyEmphasized,{color:"ig-secondary-text"},r(d[21]).SAVED_TEXT))))),a(d[13]).createElement(r(d[18]).Box,{alignItems:"center",direction:"row",marginBottom:3},a(d[13]).createElement(r(d[18]).Box,{flex:"grow"},a(d[13]).createElement(r(d[18]).Box,{alignItems:"stretch",marginEnd:L?4:0,marginStart:L?4:0},a(d[13]).createElement(r(d[18]).Text.Title,null,i(d[6])(D).name))),a(d[13]).createElement(r(d[18]).Box,null,n!==r(d[22]).SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION&&k&&a(d[13]).createElement(i(d[23]),{onClick:()=>E(!0)}))),a(d[13]).createElement(r(d[18]).Box,null,F.length>0?a(d[13]).createElement(i(d[24]),{isFetching:i(d[6])(D).pagination.isFetching,isOldestPostLoaded:!i(d[6])(D).pagination.moreAvailable,key:"savedCollectionMedia",maxPostsToDisplay:F.length,mediaLinkBuilder:t=>r(d[5]).buildMediaLink(t),onPostImpression:t=>r(d[25]).logImpressionForPost(t,'savedCollection'),onRequestFirst:()=>x(A()),onRequestNext:()=>x(A()),photoComponentRenderer:null,posts:F,user:b,viewportWidth:y}):a(d[13]).createElement(i(d[26]),{buttonClick:()=>I(!0),type:r(d[27]).PROFILE_EMPTY_STATE_KEYS.SAVED_COLLECTION}),C&&k&&a(d[13]).createElement(i(d[28]),{onClose:()=>I(!1),onDone:t=>{P(!0),N(t)},requestInFlight:B}),v&&k&&a(d[13]).createElement(i(d[29]),{collectionId:n,currentCollectionName:i(d[6])(D).name,onClose:()=>f(!1),pageIdentifier:i(d[10]).SavedCollectionPage})))))});e.default=n,e.PAGE_ID=i(d[10]).SavedCollectionPage},17694720,[17694721,20840508,20906031,5,20840800,20840715,20906012,20643849,20643850,20840832,20840667,20840455,10354721,3,20644004,20906409,17694722,20906276,20906029,20906067,20840813,20644662,20840625,17694723,20644674,20644677,20644852,20644853,20644856,17694724,6]);
__d(function() {},17694721,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onAddFromSaved:l,onClose:o,onDeleteCollection:t,onEditCollection:n}){return a(d[0]).createElement(r(d[1]).Dialog,{onModalClose:o},null!=t&&a(d[0]).createElement(r(d[1]).DialogItem,{color:"ig-error-or-destructive",onClick:t},r(d[2]).DELETE_COLLECTION_TEXT),null!=l&&a(d[0]).createElement(r(d[1]).DialogItem,{onClick:l},r(d[2]).ADD_FROM_SAVED_TEXT),null!=n&&a(d[0]).createElement(r(d[1]).DialogItem,{onClick:n},r(d[2]).EDIT_COLLECTION_TEXT),a(d[0]).createElement(r(d[1]).DialogItem,{onClick:o},r(d[3]).CANCEL_TEXT))}},17694722,[3,20906029,20644662,20840813]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0])(1942);e.default=function({onClick:n}){return a(d[1]).createElement(r(d[2]).SVGIconButton,{onClick:n,padding:0},a(d[1]).createElement(i(d[3]),{alt:t,color:"ig-primary-text",size:16}))}},17694723,[20840508,3,20906029,20906434]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({collectionId:t,currentCollectionName:l,onClose:o,pageIdentifier:n}){const c=r(d[0]).useDispatch(),s=i(d[1])(),[u,E]=r(d[2]).useState(l),[C,T]=r(d[2]).useState(!1),_=r(d[0]).useSelector(t=>i(d[3])(r(d[4]).getViewer(t))),I=0===u.replace(/\s+/g,'').length;return a(d[10]).createElement(r(d[11]).Modal,{"aria-label":r(d[12]).EDIT_COLLECTION_TEXT,onClose:o},a(d[10]).createElement(r(d[11]).ModalHeader,{onClose:o},a(d[10]).createElement(r(d[11]).Box,{padding:4},r(d[12]).EDIT_COLLECTION_TEXT)),a(d[10]).createElement(r(d[11]).Box,{margin:5},a(d[10]).createElement(r(d[11]).TextInput,{autoFocus:!0,name:"collectionName",onChange:t=>E(t.target.value),placeholder:r(d[12]).COLLECTION_NAME_TEXT,value:u})),a(d[10]).createElement(r(d[11]).DialogItem,{color:"ig-primary-button",disabled:I||C,loading:C,onClick:()=>{T(!0),Promise.resolve(c(r(d[5]).editCollection({collectionId:t,collectionName:u,userId:_.id,source:n}))).then(()=>{T(!1);const l=r(d[6]).buildUserSavedCollectionLink(i(d[3])(_.username),r(d[7]).slugify(u),t);i(d[8]).replace(l),o()}).catch(()=>{T(!1),s({text:r(d[9]).GENERIC_ERROR_MESSAGE})})}},r(d[9]).DONE_TEXT))}},17694724,[5,20644519,20906031,20906012,20840800,20643849,20840715,20840518,20840832,20840813,3,20906029,20644662]);